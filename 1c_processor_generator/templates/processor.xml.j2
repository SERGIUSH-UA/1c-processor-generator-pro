<?xml version="1.0" encoding="UTF-8"?>
<MetaDataObject {{ namespaces }} version="{{ version }}">
	<ExternalDataProcessor uuid="{{ processor.main_uuid }}">
		<InternalInfo>
			<xr:ContainedObject>
				<xr:ClassId>{{ class_id }}</xr:ClassId>
				<xr:ObjectId>{{ processor.object_id }}</xr:ObjectId>
			</xr:ContainedObject>
			<xr:GeneratedType name="ExternalDataProcessorObject.{{ processor.name }}" category="Object">
				<xr:TypeId>{{ processor.type_id }}</xr:TypeId>
				<xr:ValueId>{{ processor.value_id }}</xr:ValueId>
			</xr:GeneratedType>
		</InternalInfo>
		<Properties>
			<Name>{{ processor.name }}</Name>
			<Synonym>
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>{{ processor.synonym_ru|x }}</v8:content>
				</v8:item>
				<v8:item>
					<v8:lang>uk</v8:lang>
					<v8:content>{{ processor.synonym_uk |x }}</v8:content>
				</v8:item>
				<v8:item>
					<v8:lang>en</v8:lang>
					<v8:content>{{ processor.synonym_en |x }}</v8:content>
				</v8:item>
			</Synonym>
			<Comment/>
{% set default_form = processor.get_default_form() %}
{% if default_form %}
			<DefaultForm>ExternalDataProcessor.{{ processor.name }}.Form.{{ default_form.name }}</DefaultForm>
{% else %}
			<DefaultForm/>
{% endif %}
			<AuxiliaryForm/>
		</Properties>
		<ChildObjects>
{% for attr in processor.attributes %}
			<Attribute uuid="{{ attr.uuid }}">
				<Properties>
					<Name>{{ attr.name }}</Name>
					<Synonym>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>{{ attr.synonym_ru |x }}</v8:content>
						</v8:item>
						<v8:item>
							<v8:lang>uk</v8:lang>
							<v8:content>{{ attr.synonym_uk |x }}</v8:content>
						</v8:item>
						<v8:item>
							<v8:lang>en</v8:lang>
							<v8:content>{{ attr.synonym_en |x }}</v8:content>
						</v8:item>
					</Synonym>
					<Comment/>
					<Type>
{% if attr.type == 'string' or attr.type == 'xs:string' %}
						<v8:Type>xs:string</v8:Type>
						<v8:StringQualifiers>
							<v8:Length>{{ attr.length if attr.length is not none else 0 }}</v8:Length>
							<v8:AllowedLength>Variable</v8:AllowedLength>
						</v8:StringQualifiers>
{% elif attr.type == 'boolean' or attr.type == 'xs:boolean' %}
						<v8:Type>xs:boolean</v8:Type>
{% elif attr.type == 'number' or attr.type == 'xs:decimal' %}
						<v8:Type>xs:decimal</v8:Type>
						<v8:NumberQualifiers>
							<v8:Digits>{{ attr.digits or 10 }}</v8:Digits>
							<v8:FractionDigits>{{ attr.fraction_digits or 0 }}</v8:FractionDigits>
							<v8:AllowedSign>Any</v8:AllowedSign>
						</v8:NumberQualifiers>
{% elif attr.type == 'date' or attr.type == 'xs:dateTime' %}
						<v8:Type>xs:dateTime</v8:Type>
						<v8:DateQualifiers>
							<v8:DateFractions>DateTime</v8:DateFractions>
						</v8:DateQualifiers>
{% elif attr.type == 'spreadsheet_document' %}
						<v8:Type>mxl:SpreadsheetDocument</v8:Type>
{% else %}
						<v8:Type>{{ attr.type }}</v8:Type>
{% endif %}
					</Type>
					<PasswordMode>false</PasswordMode>
					<Format/>
					<EditFormat/>
					<ToolTip/>
					<MarkNegatives>false</MarkNegatives>
					<Mask/>
					<MultiLine>false</MultiLine>
					<ExtendedEdit>false</ExtendedEdit>
					<MinValue xsi:nil="true"/>
					<MaxValue xsi:nil="true"/>
					<FillChecking>DontCheck</FillChecking>
					<ChoiceFoldersAndItems>Items</ChoiceFoldersAndItems>
					<ChoiceParameterLinks/>
					<ChoiceParameters/>
					<QuickChoice>Auto</QuickChoice>
					<CreateOnInput>Auto</CreateOnInput>
					<ChoiceForm/>
					<LinkByType/>
					<ChoiceHistoryOnInput>Auto</ChoiceHistoryOnInput>
				</Properties>
			</Attribute>
{% endfor %}
{% for ts in processor.tabular_sections %}
			<TabularSection uuid="{{ ts.uuid }}">
				<InternalInfo>
					<xr:GeneratedType name="DataProcessorTabularSection.{{ processor.name }}.{{ ts.name }}" category="TabularSection">
						<xr:TypeId>{{ ts.type_id }}</xr:TypeId>
						<xr:ValueId>{{ ts.value_id }}</xr:ValueId>
					</xr:GeneratedType>
					<xr:GeneratedType name="DataProcessorTabularSectionRow.{{ processor.name }}.{{ ts.name }}" category="TabularSectionRow">
						<xr:TypeId>{{ ts.row_type_id }}</xr:TypeId>
						<xr:ValueId>{{ ts.row_value_id }}</xr:ValueId>
					</xr:GeneratedType>
				</InternalInfo>
				<Properties>
					<Name>{{ ts.name }}</Name>
					<Synonym>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>{{ ts.synonym_ru |x }}</v8:content>
						</v8:item>
						<v8:item>
							<v8:lang>uk</v8:lang>
							<v8:content>{{ ts.synonym_uk |x }}</v8:content>
						</v8:item>
						<v8:item>
							<v8:lang>en</v8:lang>
							<v8:content>{{ ts.synonym_en |x }}</v8:content>
						</v8:item>
					</Synonym>
					<Comment/>
					<ToolTip/>
					<FillChecking>DontCheck</FillChecking>
				</Properties>
				<ChildObjects>
{% for col in ts.columns %}
					<Attribute uuid="{{ col.uuid }}">
						<Properties>
							<Name>{{ col.name }}</Name>
							<Synonym>
								<v8:item>
									<v8:lang>ru</v8:lang>
									<v8:content>{{ col.synonym_ru |x }}</v8:content>
								</v8:item>
								<v8:item>
									<v8:lang>uk</v8:lang>
									<v8:content>{{ col.synonym_uk |x }}</v8:content>
								</v8:item>
								<v8:item>
									<v8:lang>en</v8:lang>
									<v8:content>{{ col.synonym_en |x }}</v8:content>
								</v8:item>
							</Synonym>
							<Comment/>
							<Type>
{% if col.type == 'string' or col.type == 'xs:string' %}
								<v8:Type>xs:string</v8:Type>
								<v8:StringQualifiers>
									<v8:Length>{{ col.length if col.length is not none else 0 }}</v8:Length>
									<v8:AllowedLength>Variable</v8:AllowedLength>
								</v8:StringQualifiers>
{% elif col.type == 'boolean' or col.type == 'xs:boolean' %}
								<v8:Type>xs:boolean</v8:Type>
{% elif col.type == 'number' or col.type == 'xs:decimal' %}
								<v8:Type>xs:decimal</v8:Type>
								<v8:NumberQualifiers>
									<v8:Digits>{{ col.digits or 10 }}</v8:Digits>
									<v8:FractionDigits>{{ col.fraction_digits or 0 }}</v8:FractionDigits>
									<v8:AllowedSign>Any</v8:AllowedSign>
								</v8:NumberQualifiers>
{% elif col.type == 'date' or col.type == 'xs:dateTime' %}
								<v8:Type>xs:dateTime</v8:Type>
								<v8:DateQualifiers>
									<v8:DateFractions>DateTime</v8:DateFractions>
								</v8:DateQualifiers>
{% else %}
								<v8:Type>{{ col.type }}</v8:Type>
{% endif %}
							</Type>
							<PasswordMode>false</PasswordMode>
							<Format/>
							<EditFormat/>
							<ToolTip/>
							<MarkNegatives>false</MarkNegatives>
							<Mask/>
							<MultiLine>false</MultiLine>
							<ExtendedEdit>false</ExtendedEdit>
							<MinValue xsi:nil="true"/>
							<MaxValue xsi:nil="true"/>
							<FillFromFillingValue>false</FillFromFillingValue>
							<FillValue xsi:nil="true"/>
							<FillChecking>DontCheck</FillChecking>
							<ChoiceFoldersAndItems>Items</ChoiceFoldersAndItems>
							<ChoiceParameterLinks/>
							<ChoiceParameters/>
							<QuickChoice>Auto</QuickChoice>
							<CreateOnInput>Auto</CreateOnInput>
							<ChoiceForm/>
							<LinkByType/>
							<ChoiceHistoryOnInput>Auto</ChoiceHistoryOnInput>
						</Properties>
					</Attribute>
{% endfor %}
				</ChildObjects>
			</TabularSection>
{% endfor %}
{% for template in processor.templates %}
			<Template>{{ template.name }}</Template>
{% endfor %}
{% for form in processor.forms %}
			<Form>{{ form.name }}</Form>
{% endfor %}
		</ChildObjects>
	</ExternalDataProcessor>
</MetaDataObject>
