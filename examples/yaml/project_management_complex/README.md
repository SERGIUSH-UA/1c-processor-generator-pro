# Project Management System - Максимально Складна Обробка

## Опис

Це найскладніша обробка, створена для тестування можливостей генератора 1C Processor Generator. Система управління проектами з повною функціональністю включає 5 форм, 120+ елементів UI, комплексну бізнес-логіку та демонструє всі можливості генератора.

## Статистика

### Загальна Інформація
- **Кількість форм:** 5
- **Загальна кількість UI елементів:** 120+
- **Рядків коду BSL:** 1800+ (handlers + object module)
- **Рядків YAML конфігурації:** 2400+
- **Табличних частин:** 3 (Проекти, ЗадачиПроекта, Ресурсы)
- **ValueTables:** 4 (звіти)
- **FormAttributes:** 1 (SpreadsheetDocument)
- **Атрибутів процесора:** 20
- **Команд:** 40+
- **Events:** 15+ (OnActivateRow, Selection, OnChange, OnStartEdit)

### Розподіл Елементів По Формах

1. **Головна Форма (Форма)** - 45+ елементів
   - 3 Pages з вкладками (Проекти, Задачі, Ресурси)
   - 3 таблиці з Events
   - 15 команд
   - Панель фільтрів (10 InputFields)
   - Статус-бар з інформацією

2. **Картка Проекту (КарточкаПроекта)** - 30+ елементів
   - 3 вкладки (Основна інформація, Дати та бюджет, Люди)
   - Вкладені групи (3 рівні вкладеності!)
   - Таблиця учасників проекту
   - 8 команд

3. **Картка Задачі (КарточкаЗадачи)** - 25+ елементів
   - 2 вкладки (Основна інформація, Коментарі)
   - 12 InputFields
   - RadioButtonFields для статусів
   - Таблиця коментарів з Selection event
   - 6 команд

4. **Форма Звітів (ФормаОтчетов)** - 35+ елементів
   - 5 вкладок звітів
   - 4 ValueTables для різних звітів
   - SpreadsheetDocumentField з DetailProcessing
   - Панель параметрів звіту
   - 6 команд генерації звітів

5. **Форма Налаштувань (ФормаНастроек)** - 20+ елементів
   - 3 вкладки налаштувань
   - CheckBoxFields для опцій
   - RadioButtonFields для режимів
   - InputFields для значень
   - 3 команди

## Функціональність

### Управління Проектами
- Створення, редагування, видалення, копіювання проектів
- Відстеження прогресу проектів
- Бюджетування (плановий бюджет vs фактичні витрати)
- Прив'язка задач та ресурсів до проектів
- Статистика по проектах

### Управління Задачами
- Створення, редагування, видалення задач
- Прив'язка до проектів
- Статуси задач (Новая, В работе, На проверке, Выполнена, Закрыта)
- Пріоритети (Низкий, Средний, Высокий, Критический)
- Типи задач (Разработка, Тестирование, Документация, Исправление ошибки, Улучшение)
- Коментарі до задач
- Трекінг часу (планове vs фактичне)
- Відсоток завершення

### Управління Ресурсами
- Додавання/видалення ресурсів
- Прив'язка до проектів
- Відстеження завантаження (години)
- Вартість години
- Доступність ресурсу (%)
- Контактна інформація (email, телефон)

### Звітність
- **Звіт по проектах:** статистика, прогрес, фінанси
- **Звіт по задачах:** деталі задач, виконавці, терміни
- **Звіт по ресурсах:** завантаження, вартість, доступність
- **Звіт по часу:** плановий vs фактичний час, відхилення
- **Табличний документ:** форматовані звіти з drill-down

### Експорт/Імпорт
- Експорт даних у різні формати (XML, JSON, CSV, Excel)
- Імпорт даних
- Налаштування шляху та формату експорту

### Налаштування
- Режим відображення (Таблица, Карточки, Канбан, Диаграмма Ганта)
- Кольоровий режим (Светлая, Темная, Синяя, Зеленая)
- Розмір шрифту
- Автооновлення даних
- Фільтри за замовчуванням
- Опції експорту/імпорту

## Технічні Особливості

### Master-Detail Relationships
Форми використовують pattern master-detail через события OnActivateRow:
- Вибір проекту → оновлення детальної інформації
- Вибір задачі → завантаження коментарів
- Вибір ресурсу → відображення деталей

### Client-Server Architecture
Всі складні операції розділені на клієнтську та серверну частину:
- Валідація на клієнті
- Важкі обчислення на сервері
- Робота з БД на сервері

### Відкриття Форм Одна З Одної
- Головна форма → Картка проекту (подвійний клік або кнопка)
- Головна форма → Картка задачі (подвійний клік або кнопка)
- Головна форма → Форма звітів
- Головна форма → Форма налаштувань
- Картка проекту → Перегляд задач проекту

### ObjectModule API
ObjectModule надає публічний API для:
- Експорту даних (JSON, XML)
- Імпорту даних (JSON, XML)
- Валідації даних (проекти, задачі, ресурси)
- Розрахунків та аналітики
- Пошуку прострочених задач
- Виявлення перевантажених ресурсів

### Тестові Дані
Обробка автоматично генерує тестові дані при першому відкритті:
- 3 проекти з різними статусами
- 2 задачі для першого проекту
- 2 ресурси
- 3 коментарі до задачі

## Використані Можливості Генератора

### Елементи Форм
✅ InputField (text, date, number, boolean, choice_list)
✅ LabelField
✅ LabelDecoration (з форматуванням шрифту)
✅ CheckBoxField
✅ RadioButtonField
✅ Table (TabularSection + ValueTable)
✅ SpreadSheetDocumentField
✅ Button
✅ ButtonGroup
✅ UsualGroup (вкладені, 3 рівні)
✅ Pages (з вкладками)

### Структури Даних
✅ Attributes (20 реквізитів)
✅ TabularSections (3 табличні частини)
✅ ValueTables (4 тимчасові таблиці)
✅ FormAttributes (1 атрибут форми)

### Події
✅ OnOpen, OnCreateAtServer
✅ OnClose, BeforeClose
✅ OnChange
✅ OnActivateRow (master-detail)
✅ Selection (подвійний клік)
✅ OnStartEdit
✅ DetailProcessing (drill-down)

### Команди
✅ 40+ команд з різними представленнями
✅ Shortcuts (F5, Ctrl+S, Insert, Delete, Escape)
✅ Картинки (StdPicture)

### Код
✅ ObjectModule (700+ рядків)
✅ Form modules (1100+ рядків)
✅ Client-Server architecture
✅ Helper functions (42 standalone helpers)
✅ Single file BSL approach

## Проблеми При Створенні

Детальний лог усіх проблем валідації та їх рішень знаходиться в файлі `VALIDATION_ERRORS_LOG.md`.

### Основні Проблеми:
1. **Зарезервоване ім'я "Задачи"** - змінено на "ЗадачиПроекта"
2. **Невалідні картинки StdPicture:**
   - Users → User
   - Settings → ListSettings
   - Cancel → Close
   - Copy, Duplicate, Import, Export, ImportData, ExportData → видалено (не існують)

## Структура Файлів

```
project_management_complex/
├── config.yaml                    # YAML конфігурація (2400+ рядків)
├── handlers.bsl                   # BSL handlers (1100+ рядків)
├── object_module.bsl              # ObjectModule (700+ рядків)
├── README.md                      # Цей файл
├── VALIDATION_ERRORS_LOG.md       # Лог помилок валідації
└── output/                        # Згенеровані файли
    └── УправлениеПроектами/
        ├── УправлениеПроектами.xml              # Головний XML (96KB)
        ├── УправлениеПроектами/
        │   └── Ext/
        │       └── ObjectModule.bsl             # Module (20KB)
        └── Forms/
            ├── Форма/                           # Головна форма (29KB)
            ├── КарточкаПроекта/                 # Картка проекту (3KB)
            ├── КарточкаЗадачи/                  # Картка задачі (3KB)
            ├── ФормаОтчетов/                    # Звіти (5KB)
            └── ФормаНастроек/                   # Налаштування (1.5KB)
```

## Як Використовувати

### Генерація XML
```bash
python -m 1c_processor_generator yaml \
  --config examples/yaml/project_management_complex/config.yaml \
  --handlers-file examples/yaml/project_management_complex/handlers.bsl \
  --output examples/yaml/project_management_complex/output
```

### Відкриття в 1C
1. Відкрийте 1C:Enterprise 8.3
2. Файл → Відкрити
3. Виберіть файл: `output/УправлениеПроектами/УправлениеПроектами.xml`
4. Тестуйте функціональність!

## Висновки

Ця обробка демонструє, що генератор здатний створювати **дуже складні** обробки з:
- Багатьма формами
- Складною навігацією
- Master-detail relationships
- Client-server architecture
- Комплексною бізнес-логікою
- Повною функціональністю

**Успішно згенеровано:** ✅
**Валідація пройдена:** ✅
**Готова до використання:** ✅

---

**Створено:** 2025-11-17
**Генератор:** 1C Processor Generator v2.22.0
**Версія платформи:** 1C:Enterprise 8.3 (2.11)
