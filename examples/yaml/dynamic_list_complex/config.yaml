languages: [ru, uk]

processor:
  name: СложныйДинамическийСписок
  platform_version: '2.11'
  synonym: "Сложный динамический список с параметрами | Складний динамічний список з параметрами"

attributes:
  - name: ДатаНачала
    type: date
    synonym: "Дата начала | Дата початку"
  - name: ДатаОкончания
    type: date
    synonym: "Дата окончания | Дата закінчення"
  - name: Организация
    type: CatalogRef.Организации
    synonym: "Организация | Організація"

forms:
  - name: Форма
    default: true
    properties:
      title: "Документы продаж за период | Документи продажу за період"
      auto_title: false
    dynamic_lists:
      - name: СписокДокументов
        manual_query: true
        main_table: Document.РеализацияТоваровУслуг
        key_fields:
          - Ссылка
        query_text: "ВЫБРАТЬ\n  РеализацияТоваровУслуг.Ссылка КАК Ссылка,\n  РеализацияТоваровУслуг.Дата КАК Дата,\n  РеализацияТоваровУслуг.Номер КАК Номер,\n  РеализацияТоваровУслуг.Организация КАК Организация,\n  РеализацияТоваровУслуг.Контрагент КАК Контрагент,\n  РеализацияТоваровУслуг.СуммаДокумента КАК Сумма\nИЗ\n  Документ.РеализацияТоваровУслуг КАК РеализацияТоваровУслуг\nГДЕ\n  РеализацияТоваровУслуг.Дата МЕЖДУ &ДатаНачала И &ДатаОкончания\n  И РеализацияТоваровУслуг.Организация = &Организация\n  И РеализацияТоваровУслуг.Проведен\n"
        parameters:
          - name: ДатаНачала
            type: Date
          - name: ДатаОкончания
            type: Date
          - name: Организация
            type: CatalogRef.Организации
        auto_save_user_settings: true
        # NOTE: Columns and use_always_fields work only with real 1C configuration
        # For EPF compilation with stub config, they are omitted
        # In real config, columns would be: Дата, Номер, Организация, Контрагент, Сумма
        title: "Документы продаж | Документи продажу"
    events:
      OnCreateAtServer: ПриСозданииНаСервере
    elements:
      - type: InputField
        name: ДатаНачала
        attribute: ДатаНачала
        events:
          OnChange: ДатаНачалаПриИзменении
      - type: InputField
        name: ДатаОкончания
        attribute: ДатаОкончания
        events:
          OnChange: ДатаОкончанияПриИзменении
      - type: InputField
        name: Организация
        attribute: Организация
        events:
          OnChange: ОрганизацияПриИзменении
      - type: Table
        name: СписокДокументов
        tabular_section: СписокДокументов
        is_dynamic_list: true
    commands:
      - name: Обновить
        handler: Обновить
        picture: StdPicture.Refresh
        shortcut: F5
        title: "Обновить | Оновити"
        tooltip: "Обновить список документов | Оновити список документів"
