# Приклад: Установка ролі користувачу

Цей приклад демонструє створення зовнішньої обробки 1C через YAML конфігурацію з BSL handlers.

## Структура

```
simple_role_setter/
├── config.yaml                     # YAML конфігурація обробки
├── handlers/                       # BSL обробники
│   ├── ПриОткрытии.bsl            # Обробник події відкриття форми
│   ├── УстановитьРоль.bsl         # Обробник команди (клієнтський)
│   └── УстановитьРольНаСервере.bsl # Серверна частина команди
└── README.md
```

## Що робить обробка

Обробка дозволяє:
1. Вибрати користувача з довідника `Пользователи`
2. Ввести ім'я ролі
3. Натиснути кнопку (F5) для установки ролі

## Як згенерувати

```bash
cd .claude/tools/1c_processor_generator

# Генерація обробки
python -m 1c_processor_generator yaml \
  --config examples/yaml/simple_role_setter/config.yaml \
  --handlers examples/yaml/simple_role_setter/handlers/

# Або короткий варіант з поточної директорії прикладу:
cd examples/yaml/simple_role_setter
python -m 1c_processor_generator yaml --config config.yaml --handlers handlers/
```

## Результат

Буде згенеровано:
```
УстановкаРоли/
├── УстановкаРоли.xml              # Метадані обробки
├── Ext/
│   └── ObjectModule.bsl           # Модуль об'єкта
└── Forms/
    ├── Форма.xml                  # Метадані форми
    └── Форма/
        ├── Form.xml               # Структура форми
        └── Ext/
            └── Module.bsl         # Модуль форми з BSL кодом з handlers/
```

## Що демонструє приклад

✅ **YAML конфігурація:**
- Атрибути (`CatalogRef.Пользователи`, `string`)
- Властивості форми (заголовок)
- Події форми (`OnOpen`)
- Елементи форми (`InputField`, `Button`)
- Команди з shortcut та картинкою

✅ **BSL Handlers:**
- Окремі файли для кожного обробника
- Клієнт-серверна архітектура
- Тільки бізнес-логіка (без сигнатур процедур)

✅ **Автоматична генерація:**
- Сигнатури процедур
- UUID для всіх елементів
- ID нумерація елементів форми
- Структура XML з правильними namespace

## Для ЛЛМ

Цей підхід ідеальний для LLM (Claude, GPT):
1. ЛЛМ створює YAML (простий, декларативний)
2. ЛЛМ пише BSL логіку (фокус на бізнес-логіці)
3. Генератор робить всю технічну роботу (UUID, ID, XML)

**Без генератора:** ЛЛМ намагається згенерувати XML → помилки в UUID/ID → не працює

**З генератором:** ЛЛМ генерує YAML + BSL → генератор → працює з першого разу ✅
